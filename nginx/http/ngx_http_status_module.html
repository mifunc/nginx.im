<!DOCTYPE html>
<html lang="zh-cn">
<head>
<title>http/ngx_http_status_module-nginx中文手册</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="None"/>
<meta name="keywords" content="backend,status,http,127.0,0.1"/>
</head>
<body>
<div id="content"><h2 class="notranslate">Module ngx_http_status_module</h2><table width="100%"><tbody><tr><td align="left" class="notranslate"> <a href="#example">Example Configuration</a> <br> <a href="#directives">Directives</a> <br>     <a href="#status">status</a> <br>     <a href="#status_format">status_format</a> <br>     <a href="#status_zone">status_zone</a> <br> <a href="#data">Data</a> <br> <a href="#compatibility">Compatibility</a> <br></td></tr></tbody></table><a name="summary"></a><p>   <code class="notranslate">ngx_http_status_module</code>模块提供对各种状态信息的访问。 </p><blockquote class="note">  该模块作为我们<a href="http://nginx.com/products/">商业订阅的</a>一部分提供，直到1.13.10。  它被1.13.3中的<a href="ngx_http_api_module.html">ngx_http_api_module</a>模块取代。 </blockquote><p></p><a name="example"></a><center><h4>  示例配置 </h4></center><p></p><blockquote class="example"><pre class="notranslate">http {
    upstream <strong>backend</strong> {
        <strong>zone</strong> http_backend 64k;

        server backend1.example.com weight=5;
        server backend2.example.com;
    }

    proxy_cache_path /data/nginx/cache_backend keys_zone= <strong>cache_backend</strong> :10m;

    server {
        server_name backend.example.com;

        location / {
            proxy_pass  http://backend;
            proxy_cache cache_backend;

            health_check;
        }

        <strong>status_zone server_backend;</strong>
    }

    server {
        listen 127.0.0.1;

        location /upstream_conf {
            upstream_conf;
        }

        location /status {
            status;
        }

        location = /status.html {
        }
    }
}

stream {
    upstream <strong>backend</strong> {
        <strong>zone</strong> stream_backend 64k;

        server backend1.example.com:12345 weight=5;
        server backend2.example.com:12345;
    }

    server {
        listen      127.0.0.1:12345;
        proxy_pass  backend;
        <strong>status_zone server_backend;</strong>
        health_check;
    }
}
</pre></blockquote><p></p><p>  使用此配置的状态请求示例： </p><blockquote class="example"><pre class="notranslate">http://127.0.0.1/status
http://127.0.0.1/status/nginx_version
http://127.0.0.1/status/caches/cache_backend
http://127.0.0.1/status/upstreams
http://127.0.0.1/status/upstreams/backend
http://127.0.0.1/status/upstreams/backend/peers/1
http://127.0.0.1/status/upstreams/backend/peers/1/weight
http://127.0.0.1/status/stream
http://127.0.0.1/status/stream/upstreams
http://127.0.0.1/status/stream/upstreams/backend
http://127.0.0.1/status/stream/upstreams/backend/peers/1
http://127.0.0.1/status/stream/upstreams/backend/peers/1/weight
</pre></blockquote><p></p><p>  简单监视页面随附此发行版一起提供，可在默认配置中以“ <code class="notranslate">/status.html</code> ”身份访问。  它需要配置位置“ <code class="notranslate">/status</code> ”和“ <code class="notranslate">/status.html</code> ”，如上所示。 </p><a name="directives"></a><center><h4>  指令 </h4></center><a name="status"></a><div class="directive"><table cellspacing="0"><tbody><tr><th class="notranslate">
            Syntax:
                </th><td class="notranslate">
            <code class="notranslate"><strong>status</strong> ;</code> <br>
                </td></tr><tr><th class="notranslate">
            Default:
                </th><td class="notranslate">
            
            —
        
                </td></tr><tr><th class="notranslate">
            Context:
                </th><td class="notranslate">
            <code class="notranslate">location</code> <br>
                </td></tr></tbody></table></div><p>  可以从周围的位置访问状态信息。  应<a href="ngx_http_core_module.html#satisfy">限制</a>访问此位置。 </p><a name="status_format"></a><div class="directive"><table cellspacing="0"><tbody><tr><th class="notranslate">
            Syntax:
                </th><td class="notranslate">
            <code class="notranslate"><strong>status_format</strong> <code class="notranslate">json</code> ;</code> <br> <code class="notranslate"><strong>status_format</strong> <code class="notranslate">jsonp</code> [ <code class="notranslate"><i>callback</i></code> ];</code> <br>
                </td></tr><tr><th class="notranslate">
            Default:
                </th><td class="notranslate">
            <pre class="notranslate">status_format json;</pre>
                </td></tr><tr><th class="notranslate">
            Context:
                </th><td class="notranslate">
            <code class="notranslate">http</code> , <code class="notranslate">server</code> , <code class="notranslate">location</code> <br>
                </td></tr></tbody></table></div><p>  默认情况下，状态信息以JSON格式输出。 </p><p>  或者，数据可以输出为JSONP。   <code class="notranslate"><i>callback</i></code>参数指定回调函数的名称。  该值可以包含变量。  如果省略参数，或者计算的值是空字符串，则使用“ <code class="notranslate">ngx_status_jsonp_callback</code> ”。 </p><a name="status_zone"></a><div class="directive"><table cellspacing="0"><tbody><tr><th class="notranslate">
            Syntax:
                </th><td class="notranslate">
            <code class="notranslate"><strong>status_zone</strong> <code class="notranslate"><i>zone</i></code> ;</code> <br>
                </td></tr><tr><th class="notranslate">
            Default:
                </th><td class="notranslate">
            
            —
        
                </td></tr><tr><th class="notranslate">
            Context:
                </th><td class="notranslate">
            <code class="notranslate">server</code> <br>
                </td></tr></tbody></table></div><p>  允许在指定<code class="notranslate"><i>zone</i></code>收集虚拟<a href="ngx_http_core_module.html#server">http</a>或<a href="stream/ngx_stream_core_module.html#server">流</a> （1.7.11）服务器状态信息。  多个服务器可能共享同一个区域。 </p><a name="data"></a><center><h4>  数据 </h4></center><p>  提供以下状态信息： </p><dl class="compact"><dt id="version"> <code class="notranslate">version</code> </dt> <dd>  提供的数据集的版本。  目前的版本是8。 </dd><dt> <code class="notranslate">nginx_version</code> </dt> <dd>   nginx的版本。 </dd><dt id="nginx_build"> <code class="notranslate">nginx_build</code> </dt> <dd>   nginx构建的名称。 </dd><dt> <code class="notranslate">address</code> </dt> <dd>  接受状态请求的服务器的地址。 </dd><dt id="generation"> <code class="notranslate">generation</code> </dt> <dd>  配置<a href="control.html#reconfiguration">重新加载</a>的总数。 </dd><dt id="load_timestamp"> <code class="notranslate">load_timestamp</code> </dt> <dd>  上次重新加载配置的时间，自Epoch以来的毫秒数。 </dd><dt> <code class="notranslate">timestamp</code> </dt> <dd>   Epoch以来的当前时间（以毫秒为单位）。 </dd><dt id="pid"> <code class="notranslate">pid</code> </dt> <dd>  处理状态请求的工作进程的ID。 </dd><dt id="ppid"> <code class="notranslate">ppid</code> </dt> <dd>  启动<a href="#pid">工作进程</a>的主进程的ID。 </dd><dt id="processes"> <code class="notranslate">processes</code> </dt> <dd><dl class="compact"><dt id="respawned"> <code class="notranslate">respawned</code> </dt> <dd>  异常终止和重生的子进程的总数。 </dd></dl></dd><dt> <code class="notranslate">connections</code> </dt> <dd><dl class="compact"><dt> <code class="notranslate">accepted</code> </dt> <dd>  已接受的客户端连接总数。 </dd><dt> <code class="notranslate">dropped</code> </dt> <dd>  已删除的客户端连接总数。 </dd><dt> <code class="notranslate">active</code> </dt> <dd>  当前活动客户端连接数。 </dd><dt> <code class="notranslate">idle</code> </dt> <dd>  当前空闲客户端连接数。 </dd></dl></dd><dt id="ssl"> <code class="notranslate">ssl</code> </dt> <dd><dl class="compact"><dt> <code class="notranslate">handshakes</code> </dt> <dd>  成功的SSL握手总数。 </dd><dt> <code class="notranslate">handshakes_failed</code> </dt> <dd>  失败的SSL握手总数。 </dd><dt> <code class="notranslate">session_reuses</code> </dt> <dd>   SSL握手期间会话​​重用的总次数。 </dd></dl></dd><dt> <code class="notranslate">requests</code> </dt> <dd><dl class="compact"><dt> <code class="notranslate">total</code> </dt> <dd>  客户端请求的总数。 </dd><dt> <code class="notranslate">current</code> </dt> <dd>  当前的客户端请求数。 </dd></dl></dd><dt id="server_zones"> <code class="notranslate">server_zones</code> </dt> <dd>  对于每个<a href="#status_zone">status_zone</a> ： <dl class="compact"><dt> <code class="notranslate">processing</code> </dt> <dd>  当前正在处理的客户端请求数。 </dd><dt> <code class="notranslate">requests</code> </dt> <dd>  从客户端收到的客户端请求总数。 </dd><dt> <code class="notranslate">responses</code> </dt> <dd><dl class="compact"><dt> <code class="notranslate">total</code> </dt> <dd>  发送给客户端的响应总数。 </dd><dt>   <code class="notranslate">1xx</code> ， <code class="notranslate">2xx</code> ， <code class="notranslate">3xx</code> ， <code class="notranslate">4xx</code> ， <code class="notranslate">5xx</code> </dt><dd>  状态代码为1xx，2xx，3xx，4xx和5xx的响应数。 </dd></dl></dd><dt id="discarded"> <code class="notranslate">discarded</code> </dt> <dd>  未发送响应而完成的请求总数。 </dd><dt> <code class="notranslate">received</code> </dt> <dd>  从客户端收到的总字节数。 </dd><dt> <code class="notranslate">sent</code> </dt> <dd>  发送给客户端的总字节数。 </dd></dl></dd><dt id="slabs"> <code class="notranslate">slabs</code> </dt> <dd>  对于使用slab分配器的每个共享内存区域： <dl class="compact"><dt> <code class="notranslate">pages</code> </dt> <dd><dl class="compact"><dt> <code class="notranslate">used</code> </dt> <dd>  当前使用的内存页数。 </dd><dt> <code class="notranslate">free</code> </dt> <dd>  当前可用内存页数。 </dd></dl></dd><dt> <code class="notranslate">slots</code> </dt> <dd>  对于每个内存插槽大小（8,16,32,64,128等），提供以下数据： <dl class="compact"><dt> <code class="notranslate">used</code> </dt> <dd>  当前使用的内存插槽数。 </dd><dt> <code class="notranslate">free</code> </dt> <dd>  当前可用内存插槽的数量。 </dd><dt> <code class="notranslate">reqs</code> </dt> <dd>  分配指定大小内存的总尝试次数。 </dd><dt> <code class="notranslate">fails</code> </dt> <dd>  分配指定大小内存的尝试失败次数。 </dd></dl></dd></dl></dd><dt id="upstreams"> <code class="notranslate">upstreams</code> </dt> <dd>  对于每个<a href="ngx_http_upstream_module.html#zone">动态可配置</a> <a href="ngx_http_upstream_module.html#upstream">组</a> ，提供以下数据： <dl class="compact"><dt id="peers"> <code class="notranslate">peers</code> </dt> <dd>  对于每个<a href="ngx_http_upstream_module.html#server">服务器</a> ，提供以下数据： <dl class="compact"><dt id="id"> <code class="notranslate">id</code> </dt> <dd>  服务器的ID。 </dd><dt> <code class="notranslate">server</code> </dt> <dd>  服务器的<a href="ngx_http_upstream_module.html#server">地址</a> 。 </dd><dt id="name"> <code class="notranslate">name</code> </dt> <dd>   <a href="ngx_http_upstream_module.html#server">server</a>指令中指定的<a href="ngx_http_upstream_module.html#server">服务器</a>名称。 </dd><dt id="service"> <code class="notranslate">service</code> </dt> <dd>   <a href="ngx_http_upstream_module.html#server">server</a>指令的<a href="ngx_http_upstream_module.html#service">服务</a>参数值。 </dd><dt> <code class="notranslate">backup</code> </dt> <dd>  一个布尔值，指示服务器是否为<a href="ngx_http_upstream_module.html#backup">备份</a>服务器。 </dd><dt> <code class="notranslate">weight</code> </dt> <dd>  服务器的<a href="ngx_http_upstream_module.html#weight">重量</a> 。 </dd><dt id="state"> <code class="notranslate">state</code> </dt> <dd>  当前状态，可以是“ <code class="notranslate">up</code> ”，“ <code class="notranslate">draining</code> ”，“ <code class="notranslate">down</code> ”，“ <code class="notranslate">unavail</code> ”，“ <code class="notranslate">checking</code> ”或“ <code class="notranslate">unhealthy</code> ”之一。 </dd><dt> <code class="notranslate">active</code> </dt> <dd>  当前活动连接数。 </dd><dt id="max_conns"> <code class="notranslate">max_conns</code> </dt> <dd>  服务器的<a href="ngx_http_upstream_module.html#max_conns">max_conns</a>限制。 </dd><dt> <code class="notranslate">requests</code> </dt> <dd>  转发到此服务器的客户端请求总数。 </dd><dt> <code class="notranslate">responses</code> </dt> <dd><dl class="compact"><dt> <code class="notranslate">total</code> </dt> <dd>  从此服务器获取的响应总数。 </dd><dt>   <code class="notranslate">1xx</code> ， <code class="notranslate">2xx</code> ， <code class="notranslate">3xx</code> ， <code class="notranslate">4xx</code> ， <code class="notranslate">5xx</code> </dt><dd>  状态代码为1xx，2xx，3xx，4xx和5xx的响应数。 </dd></dl></dd><dt> <code class="notranslate">sent</code> </dt> <dd>  发送到此服务器的总字节数。 </dd><dt> <code class="notranslate">received</code> </dt> <dd>  从此服务器接收的总字节数。 </dd><dt> <code class="notranslate">fails</code> </dt> <dd>  与服务器通信失败的总次数。 </dd><dt> <code class="notranslate">unavail</code> </dt> <dd>  由于尝试达到<a href="ngx_http_upstream_module.html#max_fails">max_fails</a>阈值的次数不成功，服务器因客户端请求（状态为“ <code class="notranslate">unavail</code> ”）而变为不可用的次数。 </dd><dt> <code class="notranslate">health_checks</code> </dt> <dd><dl class="compact"><dt> <code class="notranslate">checks</code> </dt> <dd>  进行的<a href="ngx_http_upstream_hc_module.html#health_check">健康检查</a>请求总数。 </dd><dt> <code class="notranslate">fails</code> </dt> <dd>  健康检查失败的次数。 </dd><dt> <code class="notranslate">unhealthy</code> </dt> <dd>  服务器变得不健康的次数（状态“ <code class="notranslate">unhealthy</code> ”）。 </dd><dt> <code class="notranslate">last_passed</code> </dt> <dd>  布尔值，指示上次运行状况检查请求是否成功并通过了<a href="ngx_http_upstream_hc_module.html#match">测试</a> 。 </dd></dl></dd><dt> <code class="notranslate">downtime</code> </dt> <dd>  服务器处于“ <code class="notranslate">unavail</code> ”，“ <code class="notranslate">checking</code> ”和“ <code class="notranslate">unhealthy</code> ”状态的总时间。 </dd><dt> <code class="notranslate">downstart</code> </dt> <dd>  服务器变为“ <code class="notranslate">unavail</code> ”，“ <code class="notranslate">checking</code> ”或“ <code class="notranslate">unhealthy</code> ”时的时间（自Epoch以来的毫秒数）。 </dd><dt id="selected"> <code class="notranslate">selected</code> </dt> <dd>  上次选择服务器处理请求时的时间（自Epoch以来的毫秒数）（1.7.5）。 </dd><dt id="header_time"> <code class="notranslate">header_time</code> </dt> <dd>  从服务器获取<a href="ngx_http_upstream_module.html#var_upstream_header_time">响应头</a>的平均时间（1.7.10）。  在1.11.6版之前，该字段仅在使用<a href="ngx_http_upstream_module.html#least_time">least_time</a>负载平衡方法时可用。 </dd><dt id="response_time"> <code class="notranslate">response_time</code> </dt> <dd>  从服务器获得<a href="ngx_http_upstream_module.html#var_upstream_response_time">完整响应</a>的平均时间（1.7.10）。  在1.11.6版之前，该字段仅在使用<a href="ngx_http_upstream_module.html#least_time">least_time</a>负载平衡方法时可用。 </dd></dl></dd><dt> <code class="notranslate">keepalive</code> </dt> <dd>  当前空闲<a href="ngx_http_upstream_module.html#keepalive">keepalive</a>连接数。 </dd><dt id="zombies"> <code class="notranslate">zombies</code> </dt> <dd>  从组中删除但仍处理活动客户端请求的当前服务器数。 </dd><dt id="zone"> <code class="notranslate">zone</code> </dt> <dd>  保持组配置和运行时状态的共享内存<a href="ngx_http_upstream_module.html#zone">区域</a>的名称。 </dd><dt id="queue"> <code class="notranslate">queue</code> </dt> <dd>  对于请求<a href="ngx_http_upstream_module.html#queue">队列</a> ，提供以下数据： <dl class="compact"><dt> <code class="notranslate">size</code> </dt> <dd>  队列中当前的请求数。 </dd><dt id="max_size"> <code class="notranslate">max_size</code> </dt> <dd>  可以同时在队列中的最大请求数。 </dd><dt> <code class="notranslate">overflows</code> </dt> <dd>  由于队列溢出而拒绝的请求总数。 </dd></dl></dd></dl></dd><dt id="caches"> <code class="notranslate">caches</code> </dt> <dd>  对于每个缓存（由<a href="ngx_http_proxy_module.html#proxy_cache_path">proxy_cache_path</a>等配置）： <dl class="compact"><dt> <code class="notranslate">size</code> </dt> <dd>  缓存的当前大小。 </dd><dt> <code class="notranslate">max_size</code> </dt> <dd>  配置中指定的高速缓存的最大大小限制。 </dd><dt> <code class="notranslate">cold</code> </dt> <dd>  一个布尔值，指示“缓存加载器”进程是否仍在将数据从磁盘加载到缓存中。 </dd><dt>   <code class="notranslate">hit</code> ， <code class="notranslate">stale</code> ， <code class="notranslate">updating</code> ， <code class="notranslate">revalidated</code> </dt><dd><dl class="compact"><dt> <code class="notranslate">responses</code> </dt> <dd>  从缓存中读取的响应总数（由于<a href="ngx_http_proxy_module.html#proxy_cache_use_stale">proxy_cache_use_stale</a>等而导致的命中或过时响应）。 </dd><dt> <code class="notranslate">bytes</code> </dt> <dd>  从缓存中读取的总字节数。 </dd></dl></dd><dt>   <code class="notranslate">miss</code> ， <code class="notranslate">expired</code> ， <code class="notranslate">bypass</code> </dt><dd><dl class="compact"><dt> <code class="notranslate">responses</code> </dt> <dd>  未从缓存中获取的响应总数（由于<a href="ngx_http_proxy_module.html#proxy_cache_bypass">proxy_cache_bypass</a>等而导致的未命中，到期或绕过）。 </dd><dt> <code class="notranslate">bytes</code> </dt> <dd>  从代理服务器读取的总字节数。 </dd><dt> <code class="notranslate">responses_written</code> </dt> <dd>  写入缓存的响应总数。 </dd><dt> <code class="notranslate">bytes_written</code> </dt> <dd>  写入缓存的总字节数。 </dd></dl></dd></dl></dd><dt id="stream"> <code class="notranslate">stream</code> </dt> <dd><dl class="compact"><dt id="stream_server_zones"> <code class="notranslate">server_zones</code> </dt> <dd>  对于每个<a href="#status_zone">status_zone</a> ： <dl class="compact"><dt> <code class="notranslate">processing</code> </dt> <dd>  当前正在处理的客户端连接数。 </dd><dt> <code class="notranslate">connections</code> </dt> <dd>  从客户端接受的连接总数。 </dd><dt id="sessions"> <code class="notranslate">sessions</code> </dt> <dd><dl class="compact"><dt> <code class="notranslate">total</code> </dt> <dd>  已完成的客户会话总数。 </dd><dt>   <code class="notranslate">2xx</code> ， <code class="notranslate">4xx</code> ， <code class="notranslate">5xx</code> </dt><dd>  已完成的会话数， <a href="stream/ngx_stream_core_module.html#var_status">状态代码为</a> 2xx，4xx或5xx。 </dd></dl></dd><dt id="stream_discarded"> <code class="notranslate">discarded</code> </dt> <dd>  在不创建会话的情况下完成的连接总数。 </dd><dt> <code class="notranslate">received</code> </dt> <dd>  从客户端收到的总字节数。 </dd><dt> <code class="notranslate">sent</code> </dt> <dd>  发送给客户端的总字节数。 </dd></dl></dd><dt id="stream_upstreams"> <code class="notranslate">upstreams</code> </dt> <dd>  对于每个<a href="stream/ngx_stream_upstream_module.html#zone">动态可配置</a> <a href="stream/ngx_stream_upstream_module.html#upstream">组</a> ，提供以下数据： <dl class="compact"><dt> <code class="notranslate">peers</code> </dt> <dd>  对于每个<a href="stream/ngx_stream_upstream_module.html#server">服务器</a> ，提供以下数据： <dl class="compact"><dt> <code class="notranslate">id</code> </dt> <dd>  服务器的ID。 </dd><dt> <code class="notranslate">server</code> </dt> <dd>  服务器的<a href="stream/ngx_stream_upstream_module.html#server">地址</a> 。 </dd><dt id="stream_name"> <code class="notranslate">name</code> </dt> <dd>   <a href="stream/ngx_stream_upstream_module.html#server">server</a>指令中指定的<a href="stream/ngx_stream_upstream_module.html#server">服务器</a>名称。 </dd><dt id="stream_service"> <code class="notranslate">service</code> </dt> <dd>   <a href="stream/ngx_stream_upstream_module.html#server">server</a>指令的<a href="stream/ngx_stream_upstream_module.html#service">服务</a>参数值。 </dd><dt> <code class="notranslate">backup</code> </dt> <dd>  一个布尔值，指示服务器是否为<a href="stream/ngx_stream_upstream_module.html#backup">备份</a>服务器。 </dd><dt> <code class="notranslate">weight</code> </dt> <dd>  服务器的<a href="stream/ngx_stream_upstream_module.html#weight">重量</a> 。 </dd><dt> <code class="notranslate">state</code> </dt> <dd>  当前状态，可以是“ <code class="notranslate">up</code> ”，“ <code class="notranslate">down</code> ”，“ <code class="notranslate">unavail</code> ”，“ <code class="notranslate">checking</code> ”或“ <code class="notranslate">unhealthy</code> ”之一。 </dd><dt> <code class="notranslate">active</code> </dt> <dd>  当前的连接数。 </dd><dt> <code class="notranslate">max_conns</code> </dt> <dd>  服务器的<a href="stream/ngx_stream_upstream_module.html#max_conns">max_conns</a>限制。 </dd><dt> <code class="notranslate">connections</code> </dt> <dd>  转发到此服务器的客户端连接总数。 </dd><dt> <code class="notranslate">connect_time</code> </dt> <dd>  连接上游服务器的平均时间。  在1.11.6版之前，该字段仅在使用<a href="stream/ngx_stream_upstream_module.html#least_time">least_time</a>负载平衡方法时可用。 </dd><dt> <code class="notranslate">first_byte_time</code> </dt> <dd>  接收第一个数据字节的平均时间。  在1.11.6版之前，该字段仅在使用<a href="stream/ngx_stream_upstream_module.html#least_time">least_time</a>负载平衡方法时可用。 </dd><dt> <code class="notranslate">response_time</code> </dt> <dd>  接收最后一个数据字节的平均时间。  在1.11.6版之前，该字段仅在使用<a href="stream/ngx_stream_upstream_module.html#least_time">least_time</a>负载平衡方法时可用。 </dd><dt> <code class="notranslate">sent</code> </dt> <dd>  发送到此服务器的总字节数。 </dd><dt> <code class="notranslate">received</code> </dt> <dd>  从此服务器接收的总字节数。 </dd><dt> <code class="notranslate">fails</code> </dt> <dd>  与服务器通信失败的总次数。 </dd><dt> <code class="notranslate">unavail</code> </dt> <dd>  由于尝试达到<a href="stream/ngx_stream_upstream_module.html#max_fails">max_fails</a>阈值的次数不成功，服务器无法进行客户端连接（状态为“ <code class="notranslate">unavail</code> ”）的次数。 </dd><dt> <code class="notranslate">health_checks</code> </dt> <dd><dl class="compact"><dt> <code class="notranslate">checks</code> </dt> <dd>  进行的<a href="stream/ngx_stream_upstream_hc_module.html#health_check">健康检查</a>请求总数。 </dd><dt> <code class="notranslate">fails</code> </dt> <dd>  健康检查失败的次数。 </dd><dt> <code class="notranslate">unhealthy</code> </dt> <dd>  服务器变得不健康的次数（状态“ <code class="notranslate">unhealthy</code> ”）。 </dd><dt> <code class="notranslate">last_passed</code> </dt> <dd>  布尔值，指示上次运行状况检查请求是否成功并通过了<a href="stream/ngx_stream_upstream_hc_module.html#match">测试</a> 。 </dd></dl></dd><dt> <code class="notranslate">downtime</code> </dt> <dd>  服务器处于“ <code class="notranslate">unavail</code> ”，“ <code class="notranslate">checking</code> ”和“ <code class="notranslate">unhealthy</code> ”状态的总时间。 </dd><dt> <code class="notranslate">downstart</code> </dt> <dd>  服务器变为“ <code class="notranslate">unavail</code> ”，“ <code class="notranslate">checking</code> ”或“ <code class="notranslate">unhealthy</code> ”时的时间（自Epoch以来的毫秒数）。 </dd><dt> <code class="notranslate">selected</code> </dt> <dd>  上次选择服务器以处理连接时的时间（自Epoch以来的毫秒数）。 </dd></dl></dd><dt> <code class="notranslate">zombies</code> </dt> <dd>  当前从组中删除但仍处理活动客户端连接的服务器数。 </dd><dt> <code class="notranslate">zone</code> </dt> <dd>  保持组配置和运行时状态的共享内存<a href="stream/ngx_stream_upstream_module.html#zone">区域</a>的名称。 </dd></dl></dd></dl></dd></dl><p></p><a name="compatibility"></a><center><h4>  兼容性 </h4></center><p></p><ul class="compact"><li>   <a href="#version">版本</a> 8中添加了<a href="#upstreams">http</a>和<a href="#stream_upstreams">流</a>上游中的<a href="#zone">区域</a>字段。 </li><li>   <a href="#version">版本</a> 8中添加了<a href="#slabs">slab</a>状态数据。 </li><li>   <a href="#version">版本</a> 8中添加了<a href="#state">检查</a>状态。 </li><li>   <a href="#version">版本</a> 8中添加了<a href="#upstreams">http</a>和<a href="#stream_upstreams">流</a>上游中的<a href="#name">名称</a>和<a href="#service">服务</a>字段。 </li><li>   <a href="#version">版本</a> 8中添加了<a href="#nginx_build">nginx_build</a>和<a href="#ppid">ppid</a>字段。 </li><li>   <a href="#version">版本</a> 7中添加了<a href="#sessions">会话</a>状态数据和流<a href="#stream_server_zones">server_zones</a>中的<a href="#stream_discarded">丢弃</a>字段。 </li><li>   <a href="#zombies">僵尸</a>字段是从<a href="#version">版本</a> 6中的nginx <a href="debugging_log.html">调试</a>版本移动的。 </li><li>   <a href="#version">版本</a> 6中添加了<a href="#ssl">ssl</a>状态数据。 </li><li>   <a href="#server_zones">server_zones中</a>的<a href="#discarded">丢弃</a>字段已在<a href="#version">版本</a> 6中添加。 </li><li>   <a href="#queue">队列</a>状态数据已在<a href="#version">版本</a> 6中添加。 </li><li>   <a href="#pid">pid</a>字段已在<a href="#version">版本</a> 6中添加。 </li><li>   <a href="#upstreams">上游</a>中的服务器列表已移至<a href="#version">版本</a> 6中的<a href="#peers">对等项</a> 。 </li><li>  在<a href="#version">版本</a> 5中删除了上游服务器的<code class="notranslate">keepalive</code>字段。 </li><li>   <a href="#stream">流</a>状态数据已在<a href="#version">版本</a> 5中添加。 </li><li>   <a href="#generation">生成</a>字段已在<a href="#version">版本</a> 5中添加。 </li><li>   <a href="#processes">进程中</a>重新<a href="#respawned">生成的</a>字段已在<a href="#version">版本</a> 5中添加。 </li><li>   <a href="#version">版本</a> 5中添加了<a href="#upstreams">上游</a>中的<a href="#header_time">header_time</a>和<a href="#response_time">response_time</a>字段。 </li><li>   <a href="#version">版本</a> 4中添加了<a href="#upstreams">上游中</a>的<a href="#selected">选定</a>字段。 </li><li>   <a href="#version">版本</a> 4中添加了<a href="#upstreams">上游</a>的<a href="#state">排水</a>状态。 </li><li>   <a href="#upstreams">上游</a>中的<a href="#id">id</a>和<a href="#max_conns">max_conns</a>字段已在<a href="#version">版本</a> 3中添加。 </li><li>   <a href="#version">版本</a> 3中添加了<a href="#caches">缓存</a>中<code class="notranslate">revalidated</code>字段。 </li><li>   <a href="#version">版本</a> 2中添加了<a href="#server_zones">server_zones</a> ， <a href="#caches">caches</a>和<a href="#load_timestamp">load_timestamp</a>状态数据。 </li></ul><p></p> 
<span></span><div style="display: none;"></div></div>
</body>
</html>