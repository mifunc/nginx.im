<!DOCTYPE html>
<html lang="zh-cn">
<head>
<title>http/ngx_http_auth_basic_module-nginx中文手册</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="None"/>
<meta name="keywords" content="auth,basic,comment,location,closed"/>
</head>
<body>
<div id="content"><h2 class="notranslate">Module ngx_http_auth_basic_module</h2><table width="100%"><tbody><tr><td align="left" class="notranslate"> <a href="#example">Example Configuration</a> <br> <a href="#directives">Directives</a> <br>     <a href="#auth_basic">auth_basic</a> <br>     <a href="#auth_basic_user_file">auth_basic_user_file</a> <br></td></tr></tbody></table><a name="summary"></a><p>   <code class="notranslate">ngx_http_auth_basic_module</code>模块允许通过使用“HTTP基本身份验证”协议验证用户名和密码来限制对资源的访问。 </p><p>  访问也可以通过<a href="ngx_http_access_module.html">地址</a> ， <a href="ngx_http_auth_request_module.html">子请求</a>的<a href="ngx_http_auth_request_module.html">结果</a>或<a href="ngx_http_auth_jwt_module.html">JWT来限制</a> 。  通过地址和密码同时限制访问由<a href="ngx_http_core_module.html#satisfy">satisf</a>指令控制。 </p><a name="example"></a><center><h4>  示例配置 </h4></center><p></p><blockquote class="example"><pre class="notranslate">location / {
    auth_basic           "closed site";
    auth_basic_user_file conf/htpasswd;
}
</pre></blockquote><p></p><a name="directives"></a><center><h4>  指令 </h4></center><a name="auth_basic"></a><div class="directive"><table cellspacing="0"><tbody><tr><th class="notranslate">
            Syntax:
                </th><td class="notranslate">
            <code class="notranslate"><strong>auth_basic</strong> <code class="notranslate"><i>string</i></code> | <code class="notranslate">off</code> ;</code> <br>
                </td></tr><tr><th class="notranslate">
            Default:
                </th><td class="notranslate">
            <pre class="notranslate">auth_basic off;</pre>
                </td></tr><tr><th class="notranslate">
            Context:
                </th><td class="notranslate">
            <code class="notranslate">http</code> , <code class="notranslate">server</code> , <code class="notranslate">location</code> , <code class="notranslate">limit_except</code> <br>
                </td></tr></tbody></table></div><p>  使用“HTTP基本身份验证”协议启用用户名和密码验证。  指定的参数用作域。  参数值可以包含变量（1.3.10,1.2.7）。  特殊值<code class="notranslate">off</code>允许取消从先前配置级别继承的<code class="notranslate">auth_basic</code>伪指令的效果。 </p><a name="auth_basic_user_file"></a><div class="directive"><table cellspacing="0"><tbody><tr><th class="notranslate">
            Syntax:
                </th><td class="notranslate">
            <code class="notranslate"><strong>auth_basic_user_file</strong> <code class="notranslate"><i>file</i></code> ;</code> <br>
                </td></tr><tr><th class="notranslate">
            Default:
                </th><td class="notranslate">
            
            —
        
                </td></tr><tr><th class="notranslate">
            Context:
                </th><td class="notranslate">
            <code class="notranslate">http</code> , <code class="notranslate">server</code> , <code class="notranslate">location</code> , <code class="notranslate">limit_except</code> <br>
                </td></tr></tbody></table></div><p>  指定保存用户名和密码的文件，格式如下： </p><blockquote class="example"><pre class="notranslate"># comment
name1:password1
name2:password2:comment
name3:password3
</pre></blockquote><p>   <code class="notranslate"><i>file</i></code>名可以包含变量。 </p><p>  支持以下密码类型： </p><ul class="compact"><li>  用<code class="notranslate">crypt()</code>函数加密;  可以使用Apache HTTP Server分发中的“ <code class="notranslate">htpasswd</code> ”实用程序或“ <code class="notranslate">openssl passwd</code> ”命令生成; </li><li>  使用基于MD5的密码算法（apr1）的Apache变体进行散列;  可以使用相同的工具生成; </li><li>  由<a href="https://tools.ietf.org/html/rfc2307#section-5.3">RFC 2307中</a>描述的“ <code class="notranslate">{</code> <code class="notranslate"><i>scheme</i></code> <code class="notranslate">}</code> <code class="notranslate"><i>data</i></code> ”语法（1.0.3+）指定;  目前实现的方案包括<code class="notranslate">PLAIN</code> （不应使用示例一）， <code class="notranslate">SHA</code> （1.3.13）（不应使用普通SHA-1哈希）和<code class="notranslate">SSHA</code> （盐渍SHA-1哈希，一些软件包使用，特别是OpenLDAP和Dovecot）。 <blockquote class="note">  仅添加了对<code class="notranslate">SHA</code>方案的支持，以帮助从其他Web服务器迁移。  它不应该用于新密码，因为它使用的无盐SHA-1散列很容易受到<a href="http://en.wikipedia.org/wiki/Rainbow_attack">彩虹表</a>攻击。 </blockquote></li></ul><p></p> 
<span></span><div style="display: none;"></div></div>
</body>
</html>