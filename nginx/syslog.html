<!DOCTYPE html>
<html lang="zh-cn">
<head>
<title>syslog-nginx中文手册</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="None"/>
<meta name="keywords" content="log,syslog,server,access,nginx"/>
</head>
<body>
<div id="content"><h2>  记录到syslog </h2><p>   <a href="ngx_core_module.html#error_log">error_log</a>和<a href="http/ngx_http_log_module.html#access_log">access_log</a>指令支持记录到syslog。  以下参数配置到syslog的日志记录： </p><dl class="compact"><dt>   <code class="notranslate">server=</code> <code class="notranslate"><i>address</i></code> </dt><dd>  定义syslog服务器的地址。  可以将地址指定为域名或IP地址，带有可选端口，或者指定为“ <code class="notranslate">unix:</code> ”前缀后指定的UNIX域套接字路径。  如果未指定端口，则使用UDP端口514。  如果域名解析为多个IP地址，则使用第一个解析的地址。 </dd><dt>   <code class="notranslate">facility=</code> <code class="notranslate"><i>string</i></code> </dt><dd>  设置syslog消息的工具，如<a href="https://tools.ietf.org/html/rfc3164#section-4.1.1">RFC 3164中</a>所定义。  设施可以是“ <code class="notranslate">kern</code> ”，“ <code class="notranslate">user</code> ”，“ <code class="notranslate">mail</code> ”，“ <code class="notranslate">daemon</code> ”，“ <code class="notranslate">auth</code> ”，“ <code class="notranslate">intern</code> ”，“ <code class="notranslate">lpr</code> ”，“ <code class="notranslate">news</code> ”，“ <code class="notranslate">uucp</code> ”，“ <code class="notranslate">clock</code> ”，“ <code class="notranslate">authpriv</code> ”，“ <code class="notranslate">ftp</code> “，” <code class="notranslate">ntp</code> “，” <code class="notranslate">audit</code> “，” <code class="notranslate">alert</code> “，” <code class="notranslate">cron</code> “，” <code class="notranslate">local0</code> “..” <code class="notranslate">local7</code> “。  默认为“ <code class="notranslate">local7</code> ”。 </dd><dt>   <code class="notranslate">severity=</code> <code class="notranslate"><i>string</i></code> </dt><dd>  设置<a href="http/ngx_http_log_module.html#access_log">access_log</a>的syslog消息的严重性，如<a href="https://tools.ietf.org/html/rfc3164#section-4.1.1">RFC 3164中</a>所定义。  可能的值与<a href="ngx_core_module.html#error_log">error_log</a>指令的第二个参数（级别）相同。  默认为“ <code class="notranslate">info</code> ”。 <blockquote class="note">  错误消息的严重性由nginx确定，因此在<code class="notranslate">error_log</code>指令中忽略该参数。 </blockquote></dd><dt>   <code class="notranslate">tag=</code> <code class="notranslate"><i>string</i></code> </dt><dd>  设置syslog消息的标记。  默认为“ <code class="notranslate">nginx</code> ”。 </dd><dt> <code class="notranslate">nohostname</code> </dt> <dd>  禁用将“hostname”字段添加到syslog消息头（1.9.7）中。 </dd></dl><p>   syslog配置示例： </p><blockquote class="example"><pre class="notranslate">error_log syslog:server=192.168.1.1 debug;

access_log syslog:server=unix:/var/log/nginx.sock,nohostname;
access_log syslog:server=[2001:db8::1]:12345,facility=local7,tag=nginx,severity=info combined;
</pre></blockquote><p></p><p></p><blockquote class="note">  从版本1.7.1开始，可以登录到syslog。  作为我们<a href="http://nginx.com/products/">商业订阅的</a>一部分，从1.5.3版开始，可以使用日志记录到syslog。 </blockquote><p></p> 
<span></span><div style="display: none;"></div></div>
</body>
</html>